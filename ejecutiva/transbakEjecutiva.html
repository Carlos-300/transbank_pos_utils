<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://unpkg.com/transbank-pos-sdk-web@4.0.0/dist/pos.js"></script>
    <script src="./ejecutivaTransbank.js"></script>

</head>
<body>
    
    <div class="container">

        <div class="row" style="margin-bottom: 20px; margin-top: 20px;">
            <h4 class="text-center">Configuración</h4>
            <div class="row">
                <div class="col">
                    <label for="btn_charge">Recarga Puertos Disponibles:</label><br>
                    <button class="btn btn-warning" id="btn_charge" name="btn_charge" onclick="ConnectAgentChargeSelect()">Recargar elementos</button>
                </div>
                <div class="col">
                    <label for="SelectCom">Seleccionar Puerto:</label><br>
                    <select name="SelectComName" class="form-select" id="SelectCom" class="w-40">
                       
                    </select>
                </div>
            </div>
        </div>
        <div style="margin-top: 20px;">
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <button class="nav-link active text-dark" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane"
                    type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Venta</button>

                <button class="nav-link text-dark" id="nav-profile-tab1" data-bs-toggle="tab" data-bs-target="#navPublic"
                    type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Devolución</button>
                </div>
            </nav>
        </div>
        <div class="tab-content my-5" id="myTabContent">
            <div class="containerAlert" id="elementsAlertStatus">
                <div class="alert alert-success" role="alert" style="display: none;"></div>
                <div class="alert alert-danger" role="alert" style="display: none;"></div>
                <div class="alert alert-warning" role="alert" style="display: none;"></div>
            </div>
            <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
                <div class="container">
                    <div class="row" >
                        <h4>Ejecutar una Venta</h4>
                        <div class="col">
                            <label class="form-label" for="montoPos">Monto:</label>
                            <input class="form-control" type="text" id="montoPos" name="montoPos" placeholder="Monto" required="" value="">
                        </div>
                        <div class="col">
                            <label class="form-label" for="ticketPos">ticket:</label>
                            <input class="form-control" type="text" id="ticketPos" name="ticketPos" placeholder="ticket" required="" value="">
                        </div>
                        <div class="col">
                            <label class="form-label" for="enviar">Enviar:</label><br>
                            <button class="btn btn-warning text-center" id="enviar" style="width: 250px;" onclick="TransbankSale('enviar')">Iniciar Venta</button> 
                        </div>
                    </div>
                    <div class="row" style="margin-top:40px;">
                        <div class="containerAlert" id="elementsAlertSale">
                            <div class="alert alert-success" role="alert" style="display: none;" ></div>
                            <div class="alert alert-danger" role="alert" style="display: none;" ></div>
                            <div class="alert alert-warning" role="alert" style="display: none;" ></div>
                        </div>
                    </div>
                    <div class="row text-center" >
                        <div class="containerTable" id="elementTableSuccess" style="display: none;">
                            <h4>Ingreso Exitoso</h4>
                            <div class="table-responsive">
                                <table class="table table-success table-responsive" id="tableExitosa">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="containerTable" id="elementTableDanger" style="display: none;">
                            <h4>Ingreso Fallido</h4>
                            <div class="table-responsive">
                                <table class="table table-danger table-responsive" id="tableFallida">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div class="containerTable" id="elementTableWarning" style="display: none;">
                            <h4>Ingreso Sin respuesta</h4>
                            <div class="table-responsive">
                                <table class="table table-warning table-responsive" id="tableWarning">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="navPublic" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
                <div class="container" >
                    <div class="row" >
                        <h4>Ejecutar una Devolución</h4>
                        <div class="col">
                            <label class="form-label" for="numeroOperation">Numero de la Operación:</label>
                            <input class="form-control" type="text" id="numeroOperation" name="numeroOperation" placeholder="Numero de la Operación" required="" value="">
                        </div>
                        <div class="col">
                            <label class="form-label" for="enviarRefund">Enviar:</label><br>
                            <button class="btn btn-warning text-center" id="enviarRefund" style="width: 250px;" onclick="refundTransbank('enviarRefund')">Iniciar Devolución</button> 
                        </div>
                    </div>
                    <div class="row" style="margin-top:40px;">
                        <div class="containerAlert" id="elementsAlertRefund">
                            <div class="alert alert-success" role="alert" style="display: none;" ></div>
                            <div class="alert alert-danger" role="alert" style="display: none;" ></div>
                            <div class="alert alert-warning" role="alert" style="display: none;" ></div>
                        </div>
                    </div>
                    <div class="row" >
                        <div class="containerTable" id="elementTableRefund" style="display: none;">
                            <h4>Devolución</h4>
                            <div class="table-responsive">
                                <table class="table table-secondary table-responsive" id="tableRefund">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" > 
        <div class="row">
           
            <h4 class="text-center" style="margin-bottom: 20px;">Funciones ejecutivo</h3>
            <div class="col-3"> 
                <div class="text-center">
                    <div class="row" style="margin: 10px;">
                        <button class="btn btn-warning" id="ultima_venta" onclick="LastSaleTransbank('ultima_venta')">Última venta</button> 
                    </div>
                    <div class="row" style="margin: 10px;">
                        <button class="btn btn-warning" id="cerrarDia" onclick="CloseDayTransbank('cerrarDia')">Cerrar Caja</button> 
                    </div>
                    <div class="row" style="margin: 10px;">
                        <button class="btn btn-warning" id="detalle_consola" onclick="transbankSaleDetails('detalle_consola')">Generar Tabla de Ventas</button>
                    </div>
                    <div class="row" style="margin: 10px;">
                        <button class="btn btn-warning" id="detalle_pos" onclick="GetDetailsTransbankPrint('detalle_pos')" >Imprimir Detalle de ventas POS</button>
                    </div> 
                </div>
            </div>
            <div class="col-9 text-center">
                <div class="containerAlert" id="elementsAlertInfo" style="margin-top:20px;margin-bottom: 20px;">
                    <div class="alert alert-success" role="alert" style="display: none;" ></div>
                    <div class="alert alert-danger" role="alert" style="display: none;" ></div>
                    <div class="alert alert-warning" role="alert" style="display: none;"></div>
                </div>
                <div class="containerTable" id="elementTableDetalle" style="display: none; margin-top: 20px;">
                    <h4>Tabla de Detalles</h4>
                    <h6 id="subTime"></h6>
                    <div class="table-responsive" style=" margin-top: 20px;">
                        <table class="table table-striped table-hover table-info" id="tableDetalle">
                            <thead></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <div class="containerTable" id="elementTableLastSale" style="display: none; margin-top: 20px;">
                    <h4>Última Venta</h4>
                    <div  class="table-responsive " style="margin-top: 20px;">
                        <table class="table table-striped table-hover table-info" id="tableLastSale">
                            <thead></thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            
            </div>
        </div>
    </div>






    
</body>
</html>